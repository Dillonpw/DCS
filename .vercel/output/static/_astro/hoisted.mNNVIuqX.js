import"./Modal.astro_astro_type_script_index_0_lang.ylZZNWw6.js";import"https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.js";import"./Dropdown.astro_astro_type_script_index_0_lang.YzY9fW0J.js";function g(t){const a=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),e=String(t.getDate()).padStart(2,"0");return`${o}-${e}-${a}`}function D(t){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t]}function p(t,a,o,e){const n=[];let s=new Date(e);s.setHours(0,0,0,0);let r=0;for(;r<o;){const l=g(s),u=D(s.getDay()),i=r%(t+a)<t?"Work":"Off";n.push({date:l,dayOfWeek:u,shift:i}),r++,s.setDate(s.getDate()+1)}return n}function m(t){t.preventDefault();const a=parseInt(document.getElementById("workDays").value,10),o=parseInt(document.getElementById("offDays").value,10),e=parseInt(document.getElementById("totalDays").value,10),n=document.getElementById("startDate").value,[s,r,l]=n.split("-").map(f=>parseInt(f,10)),u=new Date(s,r-1,l),i=p(a,o,e,u);h(i),c("workDays",a.toString(),30),c("offDays",o.toString(),30),c("totalDays",e.toString(),30),c("startDate",n,30)}function h(t){const a=document.getElementById("scheduleTable");a.innerHTML="",t.forEach(o=>{const e=document.createElement("tr"),n=document.createElement("td");n.textContent=o.date;const s=document.createElement("td");s.textContent=o.dayOfWeek;const r=document.createElement("td");r.textContent=o.shift,e.appendChild(s),e.appendChild(n),e.appendChild(r),a.appendChild(e)})}function c(t,a,o){const e=new Date;e.setTime(e.getTime()+o*24*60*60*1e3);const n="expires="+e.toUTCString();document.cookie=t+"="+a+";"+n+";path=/"}function d(t){const a=t+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;n.charAt(0)===" ";)n=n.substring(1);if(n.indexOf(a)===0)return n.substring(a.length)}return null}function E(){document.getElementById("workDays").value=d("workDays")||"",document.getElementById("offDays").value=d("offDays")||"",document.getElementById("totalDays").value=d("totalDays")||"",document.getElementById("startDate").value=d("startDate")||""}function y(){const t=document.getElementById("generate");t&&(t.removeEventListener("click",m),t.addEventListener("click",m)),E()}y();document.addEventListener("astro:after-swap",()=>{y()});
